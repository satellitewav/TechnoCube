<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <script async src='https://www.googletagmanager.com/gtag/js?id=UA-142539004-1'></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-142539004-1');
    </script>
    <link rel="shortcut icon" type="image/x-icon" href="./img/icon.png" />
    <title>Satellite Games</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/stelle.css">
    <link rel="stylesheet" href="./css/buttons.css">
    <link rel="stylesheet" href="./css/labels.css">
    <link rel="stylesheet" href="./css/backs.css">
    <link rel="stylesheet" href="./css/modal.css">
    <link rel="stylesheet" href="mainMenu.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700' rel='stylesheet' type='text/css'>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script type="module" src="./js/main.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-analytics.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/idb@7/build/umd.js"></script>
    <script>
        function cambiaNome(){
            window.localStorage.removeItem('nome');
            location.reload();
        }

        function removeSpaces(string) {
 return string.split(' ').join('');
}
    </script>
</head>

<body>

    <container id="_body">

        <container id="backs">
            <!-- <img src="./img/glass.svg" id="glass">
            <img src="./img/next.svg" id="next"> -->
            <div id="glass"></div>
            <div id="next"></div>
        </container>
        <container id="labels" class="darkTheme">
            <p id="next_label" style="color: #000000;">PROSSIMO</p>
            <p id="score_label" style="color: #000000;">PUNTI</p>
            <p id='level_label' style="font-size:18px; color: #000000;"></p>
            <p id="lines_label" style="color: #000000;">LINEE</p>
        </container>

        <container id="buttons">
            
            <container id="settings" class="darkTheme">
                <button id="help_button"></button>
                <button id="fullscreen_button"></button>
                <div id="music_line"></div>
                <button id="music_button"></button>
                <button id="dark_light_theme_button"></button>
            </container>
            <continer id="control">
                <button id="left_button" class="border"></button>
                <button id="right_button" class="border"></button>
                <button id="clockwise_button" class="border"></button>
                <button id="counterclockwise_button" class="border"></button>
                <button id="down_button" class="border"></button>
                <button id="harddrop_button" class="border"></button>
            </continer>
        </container>

        <div id="bg" class="darkTheme"></div>

        <audio src="soundtrack.mp3" onended="this.play();"  id="yourAudioTag"; autobuffer></audio>
        <!-- <button id='start' class='start'>Gioca</button> -->
        <div id="mainMenu" class="mainMenu" style="z-index:2;">
            <div id='stars' style="z-index: 1;"></div>
            <div id='stars2' style="z-index: 1;"></div>
            <div id='stars3' style="z-index: 1;"></div>
            
            <!--    margin-top: 3vh;   -->
            <img src="logo.png" style="width:100%; margin-top: 2vh; margin-bottom: 1vh; z-index: 10;" alt="TeknoCube">
            <div id="nuovo" style="visibility: hidden; max-height: 0;">
                <h2 style="color: #000000;">Username Instagram:</h2>
                <p id="sottotitolo" style="color: #000000;">Il gioco salva ogni Game Over</p>
                <input id=name name="name" type="text" autocomplete="off" autocapitalize="off" onblur="this.value=removeSpaces(this.value);" size="90"> <br><br>
            </div>

            <div id="esistente" style="visibility: hidden; max-height: 0;">
                <div class="bentornato"><h2 style="color: #000000;">Ciao,</h2><p style="visibility: hidden; color: #000000;">s</p><h2 id=backuser style="color: #d80303;"></h2><h2>.</h2></div>
                <div class="bentornato" style="margin-top: -5vh;"><h2 style="color: #000000;">Il tuo record è:</h2><p style="visibility: hidden;">s</p><h2 id=record style="color: #d80303;">10000</h2><h2>.</h2></div>
                <div style="margin-top: -3vh;"><a href=# onclick='cambiaNome()' style="color:#d80303;">cambia nome</a></div> <br>
                <p id="sottotitolo" style="margin-top: 0vh; margin-bottom: 0vh; color: #000000;">Il gioco salva ogni Game Over</p> 
            </div> <br><br>

            <button id='submit_btn' class='submit_btn' style="z-index:2;">GIOCA</button><br><br>
            <div class="top5"><h2 style="color: #000000;">Top 5</h2></div>
            <div class="top3">
                <div class="two item">
                    <table class="tabella">
                        <thead>
                            <tr>
                                <th>Nome</th>
                                <th>Punteggio</th>
                            </tr>
                        </thead>
                        <tbody id="myTable"></tbody>
                    </table>
                </div>
            </div>
            <a style="font-size: 25px;" href="https://www.eventbrite.com/e/712957825047" class="fa fa-ticket"></a> 
        </div>
        

        <canvas id="game_field"> 
  
        </canvas>
<!--         <video autoplay loop muted playsinline id="myVideo">
            <source src="" type="video/mp4" poster=".\img\bg.jpg">
          </video> -->

    </container>


    <!--  MENU PRINCIPALE  -->

    <!--  MENU PRINCIPALE  -->

    <dialog class="settings_modasl" id="settings_modal">
        <p>SETTINGS</p>
    </dialog>


    <dialog class="highscore_modal" id="highscore_modal">

        <div id="highscore"></div>

        <hr>
        <button id="close_highscore_modal">ok</button>
    </dialog>


    <dialog class="help_modal" id="help_modal">
        <p id="controls">CONTROLS</p>
        <div id="pc_help_text">
            <table>
                <tr>
                    <td class="left"> moves</td>
                    <td>⬅️ ➡️ ⬇️ (A, D, S)</td>
                </tr>
                <tr>
                    <td class="left"> rotation</td>
                    <td>⬆️ (W)</td>
                </tr>
                <tr>
                    <td class="left"> ccw/cw rotation</td>
                    <td>Q, E</td>
                </tr>
                <tr>
                    <td class="left"> help</td>
                    <td>F1</td>
                </tr>
                <tr>
                    <td class="left"> pause</td>
                    <td>P</td>
                </tr>
                <tr>
                    <td class="left"> restart</td>
                    <td>Enter</td>
                </tr>
                <tr>
                    <td class="left"> hard drop</td>
                    <td>Space</td>
                </tr>
            </table>
        </div>
        <!-- CONTROLS:\n \n - LEFT/RIGHT/DOWN swipe - left/right/down move\n - UP swipe - rotation\n - multitouch x3 - pause\n - multitouch x4 - restart" -->

        <div id="mobile_help_text">
            <table>
                <tr>
                    <td class="left">moves</td>
                    <td>buttons/swipes</td>
                </tr>
                <tr>
                    <td class="left"> cw rotation</td>
                    <td>UP swipe</td>
                </tr>

                <tr>
                    <td class="left"> pause</td>
                    <td>multitouch x3</td>
                </tr>
                <tr>
                    <td class="left"> restart</td>
                    <td>multitouch x4</td>
                </tr>
            </table>
        </div>
        <div class="div_link"><a href="https://github.com/Sheshkon/web_tetris" target="_blank">project link</a></div>
        <hr>
        <button id="close_help_modal">ok</button>
    </dialog>

    <div class="quadrati" id="quadrati">
        <div id='stars'></div>
        <div id='stars2'></div>
        <div id='stars3'></div>
    </div>

    <div class="night" id="night">
        <div class="shooting_star"></div>
        <div class="shooting_star"></div>
    </div>

    <div class="night2" id="night2">
        <div class="shooting_starE"></div>
        <div class="shooting_starE"></div>
    </div>
         
    <script src="firebase.js"></script>
</body>

</html>
